
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Heart Disease Classification Proposal &#8212; My Jupyter Book</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Heart Disease Classification Report" href="group_project_report.html" />
    <link rel="prev" title="DSCI-100 Group Project" href="README.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">My Jupyter Book</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="README.html">
   DSCI-100 Group Project
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Heart Disease Classification Proposal
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="group_project_report.html">
   Heart Disease Classification Report
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/group_project_proposal.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/group_project_proposal.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   1. Introduction
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#background">
     1.1 Background
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-set">
     1.2 Data set
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#preliminary-exploratory-data-analysis">
   2. Preliminary exploratory data analysis
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loading-libraries">
     2.1 Loading libraries
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reading-cleaning-and-wrangling-data">
     2.2 Reading, Cleaning, and Wrangling Data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#splitting-summarizing-data">
     2.2 Splitting &amp; Summarizing data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#summary-statistics-only-using-training-data">
       Summary Statistics (only using training data)
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#visualization-using-training-data">
     2.3 Visualization (using training data)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#scatterplots-of-two-variables">
     Scatterplots of two variables
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#methods">
   3. Methods
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#analysis-and-variables">
     3.1 Analysis and Variables
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#visualization-of-results">
     3.2 Visualization of Results
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#expected-outcomes-and-significance">
   4. Expected outcomes and significance
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#expected-findings">
     4.1 Expected Findings
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#possible-impacts">
     4.2 Possible Impacts
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#future-questions">
     4.3 Future Questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#classification">
   5. Classification
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#creating-the-model-and-recipe">
     5.1 Creating the model and recipe
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#performing-cross-validation-and-determining-which-k-to-use">
     5.2 Performing cross-validation and determining which k to use
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#testing-out-other-predictor-combinations">
   Testing out other predictor combinations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#predicting-other-predictor-combinations">
   Predicting other predictor combinations
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plotting-predictions">
     Plotting predictions
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="heart-disease-classification-proposal">
<h1>Heart Disease Classification Proposal<a class="headerlink" href="#heart-disease-classification-proposal" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<div class="section" id="background">
<h3>1.1 Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h3>
<p>Cardiovascular diseases (CVDs), especially heart disorders, are a primary cause of death worldwide, according to the World Health Organization.</p>
<p>The aim of this project is to answer the following question: <strong>Is heart disease present (values = 1, 2, 3, 4) or absent (value = 0) in a new patient?</strong></p>
</div>
<div class="section" id="data-set">
<h3>1.2 Data set<a class="headerlink" href="#data-set" title="Permalink to this headline">¶</a></h3>
<p>To answer this question, we will analyze data downloaded from the UCI Machine Learning Repository. Below, we compile four databases (Cleveland, Hungary, Switzerland, and VA Long Beach) into one dataset: <code class="docutils literal notranslate"><span class="pre">heart_disease_dataset</span></code>. Each row in the data set contains data about one patient. We will add a column <code class="docutils literal notranslate"><span class="pre">presence</span></code> (the predicted attribute) to indicate the presence or absence of heart disease.</p>
<p>Relevant columns in the dataset:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">age</span></code> - age in years</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sex</span></code> - sex (1 = male; 0 = female)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cp</span></code> - chest pain type</p>
<ul>
<li><p>Value 1: typical angina</p></li>
<li><p>Value 2: atypical angina</p></li>
<li><p>Value 3: non-anginal pain</p></li>
<li><p>Value 4: asymptomatic</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">trestbps</span></code> - resting blood pressure (in mm Hg on admission to the hospital)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chol</span></code> - serum cholestoral in mg/dl</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fbs</span></code> - (fasting blood sugar &gt; 120 mg/dl) (1 = true; 0 = false)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">restecg</span></code> - resting electrocardiographic results</p>
<ul>
<li><p>Value 0: normal</p></li>
<li><p>Value 1: having ST-T wave abnormality (T wave inversions and/or ST elevation or depression of &gt; 0.05 mV)</p></li>
<li><p>Value 2: showing probable or definite left ventricular hypertrophy by Estes’ criteria</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">thalach</span></code> - maximum heart rate achieved</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">exang</span></code> - exercise induced angina (1 = yes; 0 = no)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">oldpeak</span></code> - ST depression induced by exercise relative to rest</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">slope</span></code> - the slope of the peak exercise ST segment</p>
<ul>
<li><p>Value 1: upsloping</p></li>
<li><p>Value 2: flat</p></li>
<li><p>Value 3: downsloping</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ca</span></code> - number of major vessels (0-3) colored by flourosopy</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">thal</span></code> - 3 = normal; 6 = fixed defect; 7 = reversable defect</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">presence</span></code> - predicted attribute</p></li>
</ul>
</div>
</div>
<div class="section" id="preliminary-exploratory-data-analysis">
<h2>2. Preliminary exploratory data analysis<a class="headerlink" href="#preliminary-exploratory-data-analysis" title="Permalink to this headline">¶</a></h2>
<div class="section" id="loading-libraries">
<h3>2.1 Loading libraries<a class="headerlink" href="#loading-libraries" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">tidymodels</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-- <span class=" -Color -Color-Bold">Attaching packages</span> ------------------------------------------------------------------------------- tidyverse 1.3.1 --
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">ggplot2</span> 3.3.5     <span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">purrr  </span> 0.3.4
<span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">tibble </span> 3.1.6     <span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">dplyr  </span> 1.0.7
<span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">tidyr  </span> 1.1.4     <span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">stringr</span> 1.4.0
<span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">readr  </span> 2.1.1     <span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">forcats</span> 0.5.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-- <span class=" -Color -Color-Bold">Conflicts</span> ---------------------------------------------------------------------------------- tidyverse_conflicts() --
<span class=" -Color -Color-Red">x</span> <span class=" -Color -Color-Blue">dplyr</span>::<span class=" -Color -Color-Green">filter()</span> masks <span class=" -Color -Color-Blue">stats</span>::filter()
<span class=" -Color -Color-Red">x</span> <span class=" -Color -Color-Blue">dplyr</span>::<span class=" -Color -Color-Green">lag()</span>    masks <span class=" -Color -Color-Blue">stats</span>::lag()
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Registered S3 method overwritten by &#39;tune&#39;:
  method                   from   
  required_pkgs.model_spec parsnip
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-- <span class=" -Color -Color-Bold">Attaching packages</span> ------------------------------------------------------------------------------ tidymodels 0.1.4 --
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">broom       </span> 0.7.10     <span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">rsample     </span> 0.1.1 
<span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">dials       </span> 0.0.10     <span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">tune        </span> 0.1.6 
<span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">infer       </span> 1.0.0      <span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">workflows   </span> 0.2.4 
<span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">modeldata   </span> 0.1.1      <span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">workflowsets</span> 0.1.0 
<span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">parsnip     </span> 0.1.7      <span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">yardstick   </span> 0.0.9 
<span class=" -Color -Color-Green">v</span> <span class=" -Color -Color-Blue">recipes     </span> 0.1.17     
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-- <span class=" -Color -Color-Bold">Conflicts</span> --------------------------------------------------------------------------------- tidymodels_conflicts() --
<span class=" -Color -Color-Red">x</span> <span class=" -Color -Color-Blue">scales</span>::<span class=" -Color -Color-Green">discard()</span> masks <span class=" -Color -Color-Blue">purrr</span>::discard()
<span class=" -Color -Color-Red">x</span> <span class=" -Color -Color-Blue">dplyr</span>::<span class=" -Color -Color-Green">filter()</span>   masks <span class=" -Color -Color-Blue">stats</span>::filter()
<span class=" -Color -Color-Red">x</span> <span class=" -Color -Color-Blue">recipes</span>::<span class=" -Color -Color-Green">fixed()</span>  masks <span class=" -Color -Color-Blue">stringr</span>::fixed()
<span class=" -Color -Color-Red">x</span> <span class=" -Color -Color-Blue">dplyr</span>::<span class=" -Color -Color-Green">lag()</span>      masks <span class=" -Color -Color-Blue">stats</span>::lag()
<span class=" -Color -Color-Red">x</span> <span class=" -Color -Color-Blue">yardstick</span>::<span class=" -Color -Color-Green">spec()</span> masks <span class=" -Color -Color-Blue">readr</span>::spec()
<span class=" -Color -Color-Red">x</span> <span class=" -Color -Color-Blue">recipes</span>::<span class=" -Color -Color-Green">step()</span>   masks <span class=" -Color -Color-Blue">stats</span>::step()
<span class=" -Color -Color-Blue">*</span> Learn how to get started at <span class=" -Color -Color-Green">https://www.tidymodels.org/start/</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="reading-cleaning-and-wrangling-data">
<h3>2.2 Reading, Cleaning, and Wrangling Data<a class="headerlink" href="#reading-cleaning-and-wrangling-data" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Assign column names “age”, “sex”, “cp”, “trestbps”, “chol”, “fbs”, “restecg”, “thalach”, “exang”, “oldpeak”, “slope”, “ca”, “thal”, “presence”.</p></li>
<li><p>Combine four data sets into one.</p></li>
<li><p>Filter out any rows containing NA or invalid value.</p></li>
<li><p>Select only <code class="docutils literal notranslate"><span class="pre">age</span></code>, <code class="docutils literal notranslate"><span class="pre">trestbps</span></code>, <code class="docutils literal notranslate"><span class="pre">chol</span></code>, <code class="docutils literal notranslate"><span class="pre">region</span></code>, <code class="docutils literal notranslate"><span class="pre">presence</span></code> (predicted attribute) columns.</p></li>
<li><p>Shuffle rows of the data frame for a more representative randomly ordered data set.</p></li>
<li><p>Represent <code class="docutils literal notranslate"><span class="pre">region</span></code> and <code class="docutils literal notranslate"><span class="pre">presence</span></code> as factors.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">path_names</span> <span class="o">&lt;-</span> <span class="nf">list</span><span class="p">(</span><span class="s">&quot;data/processed.cleveland.data&quot;</span><span class="p">,</span> <span class="s">&quot;data/processed.switzerland.data&quot;</span><span class="p">,</span> <span class="s">&quot;data/processed.va.data&quot;</span><span class="p">)</span>
<span class="n">factors</span> <span class="o">&lt;-</span> <span class="nf">list</span><span class="p">(</span><span class="s">&quot;cleveland&quot;</span><span class="p">,</span> <span class="s">&quot;switzerland&quot;</span><span class="p">,</span> <span class="s">&quot;va&quot;</span><span class="p">)</span>
<span class="n">colnames</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;age&quot;</span><span class="p">,</span> <span class="s">&quot;sex&quot;</span><span class="p">,</span> <span class="s">&quot;cp&quot;</span><span class="p">,</span> <span class="s">&quot;trestbps&quot;</span><span class="p">,</span> <span class="s">&quot;chol&quot;</span><span class="p">,</span> <span class="s">&quot;fbs&quot;</span><span class="p">,</span> <span class="s">&quot;restecg&quot;</span><span class="p">,</span> <span class="s">&quot;thalach&quot;</span><span class="p">,</span> <span class="s">&quot;exang&quot;</span><span class="p">,</span> <span class="s">&quot;oldpeak&quot;</span><span class="p">,</span> <span class="s">&quot;slope&quot;</span><span class="p">,</span> <span class="s">&quot;ca&quot;</span><span class="p">,</span> <span class="s">&quot;thal&quot;</span><span class="p">,</span> <span class="s">&quot;presence&quot;</span><span class="p">)</span>

<span class="n">heart_disease_data</span> <span class="o">&lt;-</span> <span class="nf">read_delim</span><span class="p">(</span><span class="s">&quot;data/reprocessed.hungarian.data&quot;</span><span class="p">,</span> <span class="n">delim</span> <span class="o">=</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="n">col_names</span> <span class="o">=</span> <span class="n">colnames</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="nf">mutate</span><span class="p">(</span><span class="n">region</span> <span class="o">=</span> <span class="nf">factor</span><span class="p">(</span><span class="s">&quot;hungary&quot;</span><span class="p">))</span>

<span class="n">i</span> <span class="o">&lt;-</span> <span class="m">1</span> <span class="c1"># for every iteration in the loop, increment by 1</span>
<span class="nf">for </span><span class="p">(</span><span class="n">p</span> <span class="n">in</span> <span class="n">path_names</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1"># for every file processed, add a col that has the region name</span>
    <span class="n">data_from_file</span> <span class="o">&lt;-</span> <span class="nf">read_csv</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">col_names</span> <span class="o">=</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">na</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;?&quot;</span><span class="p">))</span> <span class="o">%&gt;%</span>
      <span class="nf">mutate</span><span class="p">(</span><span class="n">region</span> <span class="o">=</span> <span class="nf">factor</span><span class="p">(</span><span class="n">factors</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>

    <span class="c1"># add the freshly read data to the master data frame</span>
    <span class="n">heart_disease_data</span> <span class="o">&lt;-</span> <span class="nf">rbind</span><span class="p">(</span><span class="n">heart_disease_data</span><span class="p">,</span> <span class="n">data_from_file</span><span class="p">)</span>

    <span class="c1"># increment to keep track of the position in the list of files</span>
    <span class="n">i</span> <span class="o">&lt;-</span> <span class="n">i</span> <span class="o">+</span> <span class="m">1</span>
<span class="p">}</span>

<span class="n">heart_disease_data</span> <span class="o">&lt;-</span> <span class="nf">mutate_at</span><span class="p">(</span><span class="n">heart_disease_data</span><span class="p">,</span> <span class="nf">vars</span><span class="p">(</span><span class="n">presence</span><span class="p">),</span> <span class="n">factor</span><span class="p">)</span> <span class="c1"># create a new col presence to df</span>
<span class="n">heart_disease_data</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data</span> <span class="o">%&gt;%</span> <span class="nf">select</span><span class="p">(</span><span class="n">age</span><span class="p">,</span> <span class="n">trestbps</span><span class="p">,</span> <span class="n">chol</span><span class="p">,</span> <span class="n">region</span><span class="p">,</span> <span class="n">presence</span><span class="p">)</span> <span class="c1"># select relevant predictor variable columns, region, and predicted attribute &quot;presence&quot;</span>

<span class="n">heart_disease_data</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data</span> <span class="o">%&gt;%</span> <span class="nf">drop_na</span><span class="p">()</span> <span class="c1"># drop any rows with NA (removes 920 - 858 = 62 rows)</span>

<span class="c1"># Shuffling rows of the data frame so that they are no longer ordered by region and are randonly ordered</span>
<span class="nf">set.seed</span><span class="p">(</span><span class="m">3456</span><span class="p">)</span> <span class="c1"># reproducible</span>
<span class="n">rand_order</span> <span class="o">&lt;-</span> <span class="nf">sample</span><span class="p">(</span><span class="nf">nrow</span><span class="p">(</span><span class="n">heart_disease_data</span><span class="p">))</span> <span class="c1"># random ordering</span>
<span class="n">heart_disease_data</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data</span><span class="p">[</span><span class="n">rand_order</span><span class="p">,]</span> <span class="c1"># shuffle the rows of the data frame</span>

<span class="nf">head</span><span class="p">(</span><span class="n">heart_disease_data</span><span class="p">)</span> <span class="c1"># view first few rows </span>
<span class="n">heart_disease_data</span> <span class="c1"># view entire data set </span>
<span class="nf">cat</span><span class="p">(</span><span class="s">&quot;Heart disease data set after pre-processing has&quot;</span><span class="p">,</span> <span class="nf">nrow</span><span class="p">(</span><span class="n">heart_disease_data</span><span class="p">),</span> <span class="s">&quot;rows and&quot;</span><span class="p">,</span> <span class="nf">ncol</span><span class="p">(</span><span class="n">heart_disease_data</span><span class="p">),</span> <span class="s">&quot;columns&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">Rows: </span><span class=" -Color -Color-Blue">294</span> <span class=" -Color -Color-Bold">Columns: </span><span class=" -Color -Color-Blue">14</span>
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Cyan">--</span> <span class=" -Color -Color-Bold">Column specification</span> <span class=" -Color -Color-Cyan">------------------------------------------------------------------------------------------------</span>
<span class=" -Color -Color-Bold">Delimiter:</span> &quot; &quot;
<span class=" -Color -Color-Green">dbl</span> (14): age, sex, cp, trestbps, chol, fbs, restecg, thalach, exang, oldpea...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Cyan">i</span> Use <span class=" -Color -Color-Black -Color-Black-BGWhite">`spec()`</span> to retrieve the full column specification for this data.
<span class=" -Color -Color-Cyan">i</span> Specify the column types or set <span class=" -Color -Color-Black -Color-Black-BGWhite">`show_col_types = FALSE`</span> to quiet this message.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">Rows: </span><span class=" -Color -Color-Blue">303</span> <span class=" -Color -Color-Bold">Columns: </span><span class=" -Color -Color-Blue">14</span>
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Cyan">--</span> <span class=" -Color -Color-Bold">Column specification</span> <span class=" -Color -Color-Cyan">------------------------------------------------------------------------------------------------</span>
<span class=" -Color -Color-Bold">Delimiter:</span> &quot;,&quot;
<span class=" -Color -Color-Green">dbl</span> (14): age, sex, cp, trestbps, chol, fbs, restecg, thalach, exang, oldpea...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Cyan">i</span> Use <span class=" -Color -Color-Black -Color-Black-BGWhite">`spec()`</span> to retrieve the full column specification for this data.
<span class=" -Color -Color-Cyan">i</span> Specify the column types or set <span class=" -Color -Color-Black -Color-Black-BGWhite">`show_col_types = FALSE`</span> to quiet this message.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">Rows: </span><span class=" -Color -Color-Blue">123</span> <span class=" -Color -Color-Bold">Columns: </span><span class=" -Color -Color-Blue">14</span>
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Cyan">--</span> <span class=" -Color -Color-Bold">Column specification</span> <span class=" -Color -Color-Cyan">------------------------------------------------------------------------------------------------</span>
<span class=" -Color -Color-Bold">Delimiter:</span> &quot;,&quot;
<span class=" -Color -Color-Green">dbl</span> (14): age, sex, cp, trestbps, chol, fbs, restecg, thalach, exang, oldpea...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Cyan">i</span> Use <span class=" -Color -Color-Black -Color-Black-BGWhite">`spec()`</span> to retrieve the full column specification for this data.
<span class=" -Color -Color-Cyan">i</span> Specify the column types or set <span class=" -Color -Color-Black -Color-Black-BGWhite">`show_col_types = FALSE`</span> to quiet this message.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">Rows: </span><span class=" -Color -Color-Blue">200</span> <span class=" -Color -Color-Bold">Columns: </span><span class=" -Color -Color-Blue">14</span>
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Cyan">--</span> <span class=" -Color -Color-Bold">Column specification</span> <span class=" -Color -Color-Cyan">------------------------------------------------------------------------------------------------</span>
<span class=" -Color -Color-Bold">Delimiter:</span> &quot;,&quot;
<span class=" -Color -Color-Green">dbl</span> (14): age, sex, cp, trestbps, chol, fbs, restecg, thalach, exang, oldpea...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Cyan">i</span> Use <span class=" -Color -Color-Black -Color-Black-BGWhite">`spec()`</span> to retrieve the full column specification for this data.
<span class=" -Color -Color-Cyan">i</span> Specify the column types or set <span class=" -Color -Color-Black -Color-Black-BGWhite">`show_col_types = FALSE`</span> to quiet this message.
</pre></div>
</div>
<div class="output text_html"><table class="dataframe">
<caption>A tibble: 6 × 5</caption>
<thead>
	<tr><th scope=col>age</th><th scope=col>trestbps</th><th scope=col>chol</th><th scope=col>region</th><th scope=col>presence</th></tr>
	<tr><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;fct&gt;</th><th scope=col>&lt;fct&gt;</th></tr>
</thead>
<tbody>
	<tr><td>68</td><td>134</td><td>254</td><td>va       </td><td>0</td></tr>
	<tr><td>49</td><td>130</td><td>  0</td><td>va       </td><td>2</td></tr>
	<tr><td>52</td><td>128</td><td>255</td><td>cleveland</td><td>1</td></tr>
	<tr><td>63</td><td>135</td><td>252</td><td>cleveland</td><td>0</td></tr>
	<tr><td>56</td><td>132</td><td>184</td><td>cleveland</td><td>1</td></tr>
	<tr><td>46</td><td>150</td><td>163</td><td>hungary  </td><td>0</td></tr>
</tbody>
</table>
</div><div class="output text_html"><table class="dataframe">
<caption>A tibble: 858 × 5</caption>
<thead>
	<tr><th scope=col>age</th><th scope=col>trestbps</th><th scope=col>chol</th><th scope=col>region</th><th scope=col>presence</th></tr>
	<tr><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;fct&gt;</th><th scope=col>&lt;fct&gt;</th></tr>
</thead>
<tbody>
	<tr><td>68</td><td>134</td><td>254</td><td>va       </td><td>0</td></tr>
	<tr><td>49</td><td>130</td><td>  0</td><td>va       </td><td>2</td></tr>
	<tr><td>52</td><td>128</td><td>255</td><td>cleveland</td><td>1</td></tr>
	<tr><td>63</td><td>135</td><td>252</td><td>cleveland</td><td>0</td></tr>
	<tr><td>56</td><td>132</td><td>184</td><td>cleveland</td><td>1</td></tr>
	<tr><td>46</td><td>150</td><td>163</td><td>hungary  </td><td>0</td></tr>
	<tr><td>57</td><td>128</td><td>303</td><td>cleveland</td><td>0</td></tr>
	<tr><td>66</td><td>112</td><td>212</td><td>cleveland</td><td>2</td></tr>
	<tr><td>64</td><td>128</td><td>263</td><td>cleveland</td><td>0</td></tr>
	<tr><td>46</td><td>130</td><td>222</td><td>hungary  </td><td>2</td></tr>
	<tr><td>48</td><td>110</td><td>229</td><td>cleveland</td><td>1</td></tr>
	<tr><td>58</td><td>150</td><td>219</td><td>va       </td><td>2</td></tr>
	<tr><td>55</td><td>140</td><td>295</td><td>hungary  </td><td>3</td></tr>
	<tr><td>63</td><td>170</td><td>177</td><td>va       </td><td>4</td></tr>
	<tr><td>61</td><td>190</td><td>287</td><td>va       </td><td>4</td></tr>
	<tr><td>56</td><td>120</td><td>279</td><td>hungary  </td><td>3</td></tr>
	<tr><td>62</td><td>160</td><td>193</td><td>hungary  </td><td>0</td></tr>
	<tr><td>75</td><td>160</td><td>310</td><td>va       </td><td>0</td></tr>
	<tr><td>39</td><td>120</td><td>204</td><td>hungary  </td><td>0</td></tr>
	<tr><td>56</td><td>130</td><td>256</td><td>cleveland</td><td>2</td></tr>
	<tr><td>64</td><td>130</td><td>223</td><td>va       </td><td>0</td></tr>
	<tr><td>63</td><td>130</td><td>330</td><td>cleveland</td><td>3</td></tr>
	<tr><td>54</td><td>150</td><td>232</td><td>cleveland</td><td>0</td></tr>
	<tr><td>46</td><td>110</td><td>238</td><td>hungary  </td><td>0</td></tr>
	<tr><td>55</td><td>130</td><td>262</td><td>cleveland</td><td>0</td></tr>
	<tr><td>60</td><td>130</td><td>186</td><td>va       </td><td>1</td></tr>
	<tr><td>51</td><td>114</td><td>258</td><td>va       </td><td>0</td></tr>
	<tr><td>44</td><td>130</td><td>290</td><td>hungary  </td><td>3</td></tr>
	<tr><td>46</td><td>101</td><td>197</td><td>cleveland</td><td>0</td></tr>
	<tr><td>44</td><td>120</td><td>169</td><td>cleveland</td><td>2</td></tr>
	<tr><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td></tr>
	<tr><td>61</td><td>130</td><td>  0</td><td>switzerland</td><td>3</td></tr>
	<tr><td>69</td><td>140</td><td>254</td><td>cleveland  </td><td>2</td></tr>
	<tr><td>51</td><td>140</td><td>299</td><td>cleveland  </td><td>1</td></tr>
	<tr><td>57</td><td>132</td><td>207</td><td>cleveland  </td><td>0</td></tr>
	<tr><td>67</td><td>140</td><td>219</td><td>va         </td><td>3</td></tr>
	<tr><td>46</td><td>120</td><td>277</td><td>hungary    </td><td>1</td></tr>
	<tr><td>56</td><td>120</td><td>240</td><td>cleveland  </td><td>0</td></tr>
	<tr><td>64</td><td>140</td><td>335</td><td>cleveland  </td><td>1</td></tr>
	<tr><td>54</td><td>135</td><td>304</td><td>cleveland  </td><td>0</td></tr>
	<tr><td>55</td><td>140</td><td>217</td><td>cleveland  </td><td>3</td></tr>
	<tr><td>60</td><td>130</td><td>186</td><td>va         </td><td>1</td></tr>
	<tr><td>66</td><td>120</td><td>302</td><td>cleveland  </td><td>0</td></tr>
	<tr><td>53</td><td>145</td><td>518</td><td>hungary    </td><td>3</td></tr>
	<tr><td>57</td><td>140</td><td>214</td><td>va         </td><td>2</td></tr>
	<tr><td>48</td><td>102</td><td>  0</td><td>va         </td><td>1</td></tr>
	<tr><td>60</td><td>132</td><td>218</td><td>va         </td><td>2</td></tr>
	<tr><td>55</td><td>120</td><td>  0</td><td>va         </td><td>1</td></tr>
	<tr><td>39</td><td>130</td><td>307</td><td>hungary    </td><td>0</td></tr>
	<tr><td>62</td><td>130</td><td>263</td><td>cleveland  </td><td>2</td></tr>
	<tr><td>64</td><td>145</td><td>212</td><td>cleveland  </td><td>4</td></tr>
	<tr><td>57</td><td>128</td><td>229</td><td>cleveland  </td><td>1</td></tr>
	<tr><td>48</td><td>130</td><td>275</td><td>cleveland  </td><td>0</td></tr>
	<tr><td>51</td><td>160</td><td>303</td><td>hungary    </td><td>1</td></tr>
	<tr><td>53</td><td>144</td><td>300</td><td>va         </td><td>3</td></tr>
	<tr><td>63</td><td>160</td><td>267</td><td>va         </td><td>3</td></tr>
	<tr><td>35</td><td>120</td><td>308</td><td>hungary    </td><td>0</td></tr>
	<tr><td>75</td><td>136</td><td>225</td><td>va         </td><td>3</td></tr>
	<tr><td>41</td><td>135</td><td>203</td><td>cleveland  </td><td>0</td></tr>
	<tr><td>63</td><td> 96</td><td>305</td><td>va         </td><td>1</td></tr>
	<tr><td>59</td><td>125</td><td>  0</td><td>switzerland</td><td>1</td></tr>
</tbody>
</table>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Heart disease data set after pre-processing has 858 rows and 5 columns
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="splitting-summarizing-data">
<h3>2.2 Splitting &amp; Summarizing data<a class="headerlink" href="#splitting-summarizing-data" title="Permalink to this headline">¶</a></h3>
<p>We will be partitioning <code class="docutils literal notranslate"><span class="pre">heart_disease_data</span></code> into a training (75%) and testing (25%) set using the <code class="docutils literal notranslate"><span class="pre">tidymodels</span></code> package. We will then find the best k-nn classifier using the training set and evaluate the performance of our model on the test dataset. We will use the variable <code class="docutils literal notranslate"><span class="pre">presence_yn</span></code> as our class label after splitting the <code class="docutils literal notranslate"><span class="pre">presence</span></code> variable into yes and no.</p>
<div class="section" id="summary-statistics-only-using-training-data">
<h4>Summary Statistics (only using training data)<a class="headerlink" href="#summary-statistics-only-using-training-data" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Count the number of patients with presence = 0 (heart disease absent), and presence = 1-4 (heart disease present)</p></li>
<li><p>Calculate the summary statistics  mean, median, standard deviation, max, min for the numerical variables age, chol, trestbps.</p></li>
<li><p>No missing data in the dataset.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">set.seed</span><span class="p">(</span><span class="m">3456</span><span class="p">)</span>

<span class="c1"># Assigning presence 1-4 to 1 and presence 0 to 0</span>
<span class="n">heart_disease_data1</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data</span> <span class="o">%&gt;%</span>
                            <span class="nf">filter</span><span class="p">(</span><span class="n">presence</span> <span class="o">==</span> <span class="s">&quot;0&quot;</span><span class="p">)</span> <span class="o">%&gt;%</span>
                            <span class="nf">mutate</span><span class="p">(</span><span class="n">presence_yn</span> <span class="o">=</span> <span class="s">&quot;no&quot;</span><span class="p">)</span>
<span class="n">heart_disease_data2</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data</span> <span class="o">%&gt;%</span>
                            <span class="nf">filter</span><span class="p">(</span><span class="n">presence</span> <span class="o">!=</span> <span class="s">&quot;0&quot;</span><span class="p">)</span> <span class="o">%&gt;%</span>
                            <span class="nf">mutate</span><span class="p">(</span><span class="n">presence_yn</span> <span class="o">=</span> <span class="s">&quot;yes&quot;</span><span class="p">)</span>

<span class="n">heart_disease_data</span> <span class="o">&lt;-</span> <span class="nf">rbind</span><span class="p">(</span><span class="n">heart_disease_data1</span><span class="p">,</span> <span class="n">heart_disease_data2</span><span class="p">)</span>
<span class="n">heart_disease_data</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data</span> <span class="o">%&gt;%</span>
                        <span class="nf">mutate</span><span class="p">(</span><span class="n">presence_yn</span> <span class="o">=</span> <span class="nf">as.factor</span><span class="p">(</span><span class="n">presence_yn</span><span class="p">))</span>


<span class="n">heart_disease_data_split</span> <span class="o">&lt;-</span> <span class="nf">initial_split</span><span class="p">(</span><span class="n">heart_disease_data</span><span class="p">,</span> <span class="n">prop</span> <span class="o">=</span> <span class="m">3</span><span class="o">/</span><span class="m">4</span><span class="p">,</span> <span class="n">strata</span> <span class="o">=</span> <span class="n">presence</span><span class="p">)</span>  
<span class="n">heart_disease_data_train</span> <span class="o">&lt;-</span> <span class="nf">training</span><span class="p">(</span><span class="n">heart_disease_data_split</span><span class="p">)</span>   
<span class="n">heart_disease_data_test</span> <span class="o">&lt;-</span> <span class="nf">testing</span><span class="p">(</span><span class="n">heart_disease_data_split</span><span class="p">)</span>

<span class="c1"># Predictors as numeric</span>
<span class="n">heart_disease_data_train</span> <span class="o">&lt;-</span> <span class="nf">mutate</span><span class="p">(</span><span class="n">heart_disease_data_train</span><span class="p">,</span> <span class="nf">across</span><span class="p">(</span><span class="n">age</span><span class="o">:</span><span class="n">chol</span><span class="p">,</span> <span class="n">as.numeric</span><span class="p">))</span>
<span class="n">heart_disease_data_test</span> <span class="o">&lt;-</span> <span class="nf">mutate</span><span class="p">(</span><span class="n">heart_disease_data_test</span><span class="p">,</span> <span class="nf">across</span><span class="p">(</span><span class="n">age</span><span class="o">:</span><span class="n">chol</span><span class="p">,</span> <span class="n">as.numeric</span><span class="p">))</span>

<span class="c1"># heart_disease_data_train</span>
<span class="c1"># dim(heart_disease_data_train)</span>

<span class="c1"># heart_disease_data_test</span>
<span class="c1"># dim(heart_disease_data_test)</span>

<span class="n">count_by_presence</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data_train</span> <span class="o">%&gt;%</span>
                      <span class="nf">group_by</span><span class="p">(</span><span class="n">presence_yn</span><span class="p">)</span> <span class="o">%&gt;%</span>
                      <span class="nf">summarise</span><span class="p">(</span><span class="n">count</span> <span class="o">=</span> <span class="nf">n</span><span class="p">())</span>
<span class="n">count_by_presence</span> 
                            
<span class="c1"># select the numerical columns of age, chol, trestbps</span>
<span class="n">heart_disease_data_train_num</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data_train</span> <span class="o">%&gt;%</span> <span class="nf">select</span><span class="p">(</span><span class="o">-</span><span class="n">region</span><span class="p">,</span> <span class="o">-</span><span class="n">presence</span><span class="p">)</span>

<span class="c1"># heart_disease_data_train </span>

<span class="c1"># Data Summary Table</span>

<span class="n">heart_disease_data_mean</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data_train_num</span> <span class="o">%&gt;%</span> <span class="nf">summarize</span><span class="p">(</span><span class="nf">across</span><span class="p">(</span><span class="n">age</span><span class="o">:</span><span class="n">chol</span><span class="p">,</span> <span class="n">mean</span><span class="p">))</span>
<span class="n">heart_disease_data_median</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data_train_num</span> <span class="o">%&gt;%</span> <span class="nf">summarize</span><span class="p">(</span><span class="nf">across</span><span class="p">(</span><span class="n">age</span><span class="o">:</span><span class="n">chol</span><span class="p">,</span> <span class="n">median</span><span class="p">))</span>
<span class="n">heart_disease_data_max</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data_train_num</span> <span class="o">%&gt;%</span> <span class="nf">summarize</span><span class="p">(</span><span class="nf">across</span><span class="p">(</span><span class="n">age</span><span class="o">:</span><span class="n">chol</span><span class="p">,</span> <span class="n">max</span><span class="p">))</span>
<span class="n">heart_disease_data_min</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data_train_num</span> <span class="o">%&gt;%</span> <span class="nf">summarize</span><span class="p">(</span><span class="nf">across</span><span class="p">(</span><span class="n">age</span><span class="o">:</span><span class="n">chol</span><span class="p">,</span> <span class="n">min</span><span class="p">))</span>
<span class="n">heart_disease_data_sd</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data_train_num</span> <span class="o">%&gt;%</span> <span class="nf">summarize</span><span class="p">(</span><span class="nf">across</span><span class="p">(</span><span class="n">age</span><span class="o">:</span><span class="n">chol</span><span class="p">,</span> <span class="n">sd</span><span class="p">))</span>
    
<span class="n">heart_disease_data_max</span> <span class="o">=</span> <span class="n">heart_disease_data_max</span> <span class="o">%&gt;%</span>
    <span class="nf">pivot_longer</span><span class="p">(</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="n">age</span><span class="o">:</span><span class="n">chol</span><span class="p">,</span>
        <span class="n">names_to</span> <span class="o">=</span> <span class="s">&quot;variable&quot;</span><span class="p">,</span>
        <span class="n">values_to</span> <span class="o">=</span> <span class="s">&quot;max&quot;</span>
    <span class="p">)</span>

<span class="n">heart_disease_data_min</span> <span class="o">=</span> <span class="n">heart_disease_data_min</span> <span class="o">%&gt;%</span>
    <span class="nf">pivot_longer</span><span class="p">(</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="n">age</span><span class="o">:</span><span class="n">chol</span><span class="p">,</span>
        <span class="n">names_to</span> <span class="o">=</span> <span class="s">&quot;variable&quot;</span><span class="p">,</span>
        <span class="n">values_to</span> <span class="o">=</span> <span class="s">&quot;min&quot;</span>
    <span class="p">)</span>

<span class="n">heart_disease_data_mean</span> <span class="o">=</span> <span class="n">heart_disease_data_mean</span> <span class="o">%&gt;%</span>
    <span class="nf">pivot_longer</span><span class="p">(</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="n">age</span><span class="o">:</span><span class="n">chol</span><span class="p">,</span>
        <span class="n">names_to</span> <span class="o">=</span> <span class="s">&quot;variable&quot;</span><span class="p">,</span>
        <span class="n">values_to</span> <span class="o">=</span> <span class="s">&quot;mean&quot;</span>
    <span class="p">)</span>

<span class="n">heart_disease_data_median</span> <span class="o">=</span> <span class="n">heart_disease_data_median</span> <span class="o">%&gt;%</span>
    <span class="nf">pivot_longer</span><span class="p">(</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="n">age</span><span class="o">:</span><span class="n">chol</span><span class="p">,</span>
        <span class="n">names_to</span> <span class="o">=</span> <span class="s">&quot;variable&quot;</span><span class="p">,</span>
        <span class="n">values_to</span> <span class="o">=</span> <span class="s">&quot;median&quot;</span>
    <span class="p">)</span>

<span class="n">heart_disease_data_sd</span> <span class="o">=</span> <span class="n">heart_disease_data_sd</span> <span class="o">%&gt;%</span>
    <span class="nf">pivot_longer</span><span class="p">(</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="n">age</span><span class="o">:</span><span class="n">chol</span><span class="p">,</span>
        <span class="n">names_to</span> <span class="o">=</span> <span class="s">&quot;variable&quot;</span><span class="p">,</span>
        <span class="n">values_to</span> <span class="o">=</span> <span class="s">&quot;standard_deviation&quot;</span>
    <span class="p">)</span>

<span class="n">heart_disease_data_table</span> <span class="o">&lt;-</span> <span class="nf">merge</span><span class="p">(</span><span class="n">heart_disease_data_max</span><span class="p">,</span> <span class="n">heart_disease_data_min</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s">&#39;variable&#39;</span><span class="p">)</span> <span class="o">%&gt;%</span> 
                            <span class="nf">merge</span><span class="p">(</span><span class="n">heart_disease_data_mean</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s">&#39;variable&#39;</span><span class="p">)</span> <span class="o">%&gt;%</span> 
                            <span class="nf">merge</span><span class="p">(</span><span class="n">heart_disease_data_median</span><span class="p">,</span><span class="n">by</span> <span class="o">=</span> <span class="s">&#39;variable&#39;</span><span class="p">)</span> <span class="o">%&gt;%</span>
                            <span class="nf">merge</span><span class="p">(</span><span class="n">heart_disease_data_sd</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s">&#39;variable&#39;</span><span class="p">)</span>
<span class="n">heart_disease_data_table</span>

<span class="c1"># Scaling variables</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A tibble: 2 × 2</caption>
<thead>
	<tr><th scope=col>presence_yn</th><th scope=col>count</th></tr>
	<tr><th scope=col>&lt;fct&gt;</th><th scope=col>&lt;int&gt;</th></tr>
</thead>
<tbody>
	<tr><td>no </td><td>292</td></tr>
	<tr><td>yes</td><td>351</td></tr>
</tbody>
</table>
</div><div class="output text_html"><table class="dataframe">
<caption>A data.frame: 3 × 6</caption>
<thead>
	<tr><th scope=col>variable</th><th scope=col>max</th><th scope=col>min</th><th scope=col>mean</th><th scope=col>median</th><th scope=col>standard_deviation</th></tr>
	<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td>age     </td><td> 77</td><td>28</td><td> 53.21306</td><td> 54</td><td>  9.309979</td></tr>
	<tr><td>chol    </td><td>529</td><td>-9</td><td>191.58787</td><td>220</td><td>113.544039</td></tr>
	<tr><td>trestbps</td><td>200</td><td>-9</td><td>131.56765</td><td>130</td><td> 20.028321</td></tr>
</tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="section" id="visualization-using-training-data">
<h3>2.3 Visualization (using training data)<a class="headerlink" href="#visualization-using-training-data" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">options</span><span class="p">(</span><span class="n">repr.plot.width</span> <span class="o">=</span> <span class="m">10</span><span class="p">,</span> <span class="n">repr.plot.height</span> <span class="o">=</span> <span class="m">7</span><span class="p">)</span>

<span class="c1"># Presence/absence based on age</span>
<span class="n">heart_disease_data_train_age_plot</span> <span class="o">&lt;-</span> <span class="nf">ggplot</span><span class="p">(</span><span class="n">heart_disease_data_train</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">age</span><span class="p">))</span> <span class="o">+</span>
                                    <span class="nf">geom_histogram</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">fill</span> <span class="o">=</span> <span class="n">presence_yn</span><span class="p">))</span> <span class="o">+</span>
                                    <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Age in years&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;# of patients&quot;</span><span class="p">,</span> <span class="n">fill</span> <span class="o">=</span> <span class="s">&quot;Presence of heart Disease&quot;</span><span class="p">)</span> <span class="o">+</span>
                                    <span class="nf">theme</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">18</span><span class="p">))</span> <span class="o">+</span>
                                    <span class="nf">ggtitle</span><span class="p">(</span><span class="s">&quot;Count of patients vs age (years)&quot;</span><span class="p">)</span>
<span class="n">heart_disease_data_train_age_plot</span>


<span class="c1"># Presence/absence based on cholestrol</span>
<span class="n">heart_disease_data_train_chol_plot</span> <span class="o">&lt;-</span> <span class="nf">ggplot</span><span class="p">(</span><span class="n">heart_disease_data_train</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">chol</span><span class="p">))</span> <span class="o">+</span>
                                    <span class="nf">geom_histogram</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">fill</span> <span class="o">=</span> <span class="n">presence_yn</span><span class="p">))</span> <span class="o">+</span>
                                    <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Serum cholestoral in mg/dl&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;# of patients&quot;</span><span class="p">,</span> <span class="n">fill</span> <span class="o">=</span> <span class="s">&quot;Presence of heart Disease&quot;</span><span class="p">)</span> <span class="o">+</span>
                                    <span class="nf">theme</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">18</span><span class="p">))</span> <span class="o">+</span>
                                    <span class="nf">ggtitle</span><span class="p">(</span><span class="s">&quot;Count of patients vs serum cholestoral(mg/dl)&quot;</span><span class="p">)</span>
<span class="n">heart_disease_data_train_chol_plot</span>


<span class="c1"># Presence/absence based on resting blood pressure</span>
<span class="n">heart_disease_data_train_trestbps_plot</span> <span class="o">&lt;-</span> <span class="nf">ggplot</span><span class="p">(</span><span class="n">heart_disease_data_train</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">trestbps</span><span class="p">))</span> <span class="o">+</span>
                                    <span class="nf">geom_histogram</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">fill</span> <span class="o">=</span> <span class="n">presence_yn</span><span class="p">))</span> <span class="o">+</span>
                                    <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Resting blood pressure (in mm Hg)&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;# of patients&quot;</span><span class="p">,</span> <span class="n">fill</span> <span class="o">=</span> <span class="s">&quot;Presence of heart Disease&quot;</span><span class="p">)</span> <span class="o">+</span>
                                    <span class="nf">theme</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">18</span><span class="p">))</span> <span class="o">+</span>
                                    <span class="nf">ggtitle</span><span class="p">(</span><span class="s">&quot;Count of patients vs resting blood pressure (in mm Hg)&quot;</span><span class="p">)</span>
<span class="n">heart_disease_data_train_trestbps_plot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
</pre></div>
</div>
<img alt="_images/group_project_proposal_9_2.png" src="_images/group_project_proposal_9_2.png" />
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
</pre></div>
</div>
<img alt="_images/group_project_proposal_9_4.png" src="_images/group_project_proposal_9_4.png" />
<img alt="_images/group_project_proposal_9_5.png" src="_images/group_project_proposal_9_5.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Analysis by region </span>

<span class="c1"># Cholestrol Analysis - original histogram of chol distribution</span>
<span class="nf">options</span><span class="p">(</span><span class="n">repr.plot.width</span> <span class="o">=</span> <span class="m">11</span><span class="p">,</span> <span class="n">repr.plot.height</span> <span class="o">=</span> <span class="m">10</span><span class="p">)</span>

<span class="n">heart_disease_data_train_age_plot</span> <span class="o">&lt;-</span> <span class="nf">ggplot</span><span class="p">(</span><span class="n">heart_disease_data</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">age</span><span class="p">))</span> <span class="o">+</span> 
                                          <span class="nf">geom_histogram</span><span class="p">()</span> <span class="o">+</span>
                                          <span class="nf">facet_grid</span><span class="p">(</span><span class="n">rows</span> <span class="o">=</span> <span class="nf">vars</span><span class="p">(</span><span class="n">region</span><span class="p">),</span> <span class="n">cols</span> <span class="o">=</span> <span class="nf">vars</span><span class="p">(</span><span class="n">presence_yn</span><span class="p">))</span> <span class="o">+</span>
                                          <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Age in years&quot;</span><span class="p">)</span> <span class="o">+</span>
                                          <span class="nf">theme</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">20</span><span class="p">))</span> 

<span class="n">heart_disease_data_train_age_plot</span>

<span class="n">heart_disease_data_train_chol_plot</span> <span class="o">&lt;-</span> <span class="nf">ggplot</span><span class="p">(</span><span class="n">heart_disease_data</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">chol</span><span class="p">))</span> <span class="o">+</span> 
                                          <span class="nf">geom_histogram</span><span class="p">()</span> <span class="o">+</span>
                                          <span class="nf">facet_grid</span><span class="p">(</span><span class="n">rows</span> <span class="o">=</span> <span class="nf">vars</span><span class="p">(</span><span class="n">region</span><span class="p">),</span> <span class="n">cols</span> <span class="o">=</span> <span class="nf">vars</span><span class="p">(</span><span class="n">presence_yn</span><span class="p">))</span> <span class="o">+</span>
                                          <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Serum cholestoral in mg/dl&quot;</span><span class="p">)</span> <span class="o">+</span>
                                          <span class="nf">theme</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">20</span><span class="p">))</span> 

<span class="n">heart_disease_data_train_chol_plot</span>

<span class="n">heart_disease_data_train_trestbps_plot</span> <span class="o">&lt;-</span> <span class="nf">ggplot</span><span class="p">(</span><span class="n">heart_disease_data</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">trestbps</span><span class="p">))</span> <span class="o">+</span> 
                                          <span class="nf">geom_histogram</span><span class="p">()</span> <span class="o">+</span>
                                          <span class="nf">facet_grid</span><span class="p">(</span><span class="n">rows</span> <span class="o">=</span> <span class="nf">vars</span><span class="p">(</span><span class="n">region</span><span class="p">),</span> <span class="n">cols</span> <span class="o">=</span> <span class="nf">vars</span><span class="p">(</span><span class="n">presence_yn</span><span class="p">))</span> <span class="o">+</span>
                                          <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Resting blood pressure (in mm Hg)&quot;</span><span class="p">)</span> <span class="o">+</span>
                                          <span class="nf">theme</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">20</span><span class="p">))</span> 

<span class="n">heart_disease_data_train_trestbps_plot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
</pre></div>
</div>
<img alt="_images/group_project_proposal_10_2.png" src="_images/group_project_proposal_10_2.png" />
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
</pre></div>
</div>
<img alt="_images/group_project_proposal_10_4.png" src="_images/group_project_proposal_10_4.png" />
<img alt="_images/group_project_proposal_10_5.png" src="_images/group_project_proposal_10_5.png" />
</div>
</div>
</div>
<div class="section" id="scatterplots-of-two-variables">
<h3>Scatterplots of two variables<a class="headerlink" href="#scatterplots-of-two-variables" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">heart_disease_data_scaled</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data</span> <span class="o">%&gt;%</span>
  <span class="nf">mutate</span><span class="p">(</span><span class="n">age</span> <span class="o">=</span> <span class="nf">scale</span><span class="p">(</span><span class="n">age</span><span class="p">),</span> <span class="n">chol</span> <span class="o">=</span> <span class="nf">scale</span><span class="p">(</span><span class="n">chol</span><span class="p">),</span> <span class="n">trestbps</span> <span class="o">=</span> <span class="nf">scale</span><span class="p">(</span><span class="n">trestbps</span><span class="p">))</span>

<span class="n">age_chol</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data_scaled</span> <span class="o">%&gt;%</span>
  <span class="nf">ggplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">age</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">chol</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">presence_yn</span><span class="p">))</span> <span class="o">+</span>
  <span class="nf">geom_point</span><span class="p">(</span><span class="n">alpha</span> <span class="o">=</span> <span class="m">0.8</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Age (scaled)&quot;</span><span class="p">,</span> 
       <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;Cholesterol (scaled)&quot;</span><span class="p">,</span>
       <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;Presence&quot;</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">scale_color_manual</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;Yes&quot;</span><span class="p">,</span> <span class="s">&quot;No&quot;</span><span class="p">),</span> 
                     <span class="n">values</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;orange2&quot;</span><span class="p">,</span> <span class="s">&quot;steelblue2&quot;</span><span class="p">))</span>  <span class="o">+</span>
                                          <span class="nf">theme</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">20</span><span class="p">))</span> 
<span class="n">age_chol</span>

<span class="n">age_trestbps</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data_scaled</span> <span class="o">%&gt;%</span>
  <span class="nf">ggplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">age</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">trestbps</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">presence_yn</span><span class="p">))</span> <span class="o">+</span>
  <span class="nf">geom_point</span><span class="p">(</span><span class="n">alpha</span> <span class="o">=</span> <span class="m">0.8</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Age (scaled)&quot;</span><span class="p">,</span> 
       <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;Resting blood pressure (scaled)&quot;</span><span class="p">,</span>
       <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;Presence&quot;</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">scale_color_manual</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;Yes&quot;</span><span class="p">,</span> <span class="s">&quot;No&quot;</span><span class="p">),</span> 
                     <span class="n">values</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;orange2&quot;</span><span class="p">,</span> <span class="s">&quot;steelblue2&quot;</span><span class="p">))</span>  <span class="o">+</span>
                                          <span class="nf">theme</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">20</span><span class="p">))</span> 
<span class="n">age_trestbps</span>

<span class="n">chol_trestbps</span> <span class="o">&lt;-</span> <span class="n">heart_disease_data_scaled</span> <span class="o">%&gt;%</span>
  <span class="nf">ggplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">chol</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">trestbps</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">presence_yn</span><span class="p">))</span> <span class="o">+</span>
  <span class="nf">geom_point</span><span class="p">(</span><span class="n">alpha</span> <span class="o">=</span> <span class="m">0.8</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Cholesterol (scaled)&quot;</span><span class="p">,</span> 
       <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;Resting blood pressure (scaled)&quot;</span><span class="p">,</span>
       <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;Presence&quot;</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">scale_color_manual</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;Yes&quot;</span><span class="p">,</span> <span class="s">&quot;No&quot;</span><span class="p">),</span> 
                     <span class="n">values</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;orange2&quot;</span><span class="p">,</span> <span class="s">&quot;steelblue2&quot;</span><span class="p">))</span>  <span class="o">+</span>
                                          <span class="nf">theme</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">20</span><span class="p">))</span> 
<span class="n">chol_trestbps</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/group_project_proposal_12_0.png" src="_images/group_project_proposal_12_0.png" />
<img alt="_images/group_project_proposal_12_1.png" src="_images/group_project_proposal_12_1.png" />
<img alt="_images/group_project_proposal_12_2.png" src="_images/group_project_proposal_12_2.png" />
</div>
</div>
</div>
</div>
<div class="section" id="methods">
<h2>3. Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<div class="section" id="analysis-and-variables">
<h3>3.1 Analysis and Variables<a class="headerlink" href="#analysis-and-variables" title="Permalink to this headline">¶</a></h3>
<p>Many physiological attributes have been shown through studies and reports by the CDC and WHO to have strong links to heart disease. After examining the data and filtering out categorical variables, we have chosen the three most relevant out of the five numerical values in our dataset to analyze: trestbps (resting blood pressure), chol (serum cholesterol in mg/dl), and age (age in years). Using our chosen variables, we will construct and test a classifier using the KNN classification model and choose an appropriate k using cross-validation.</p>
</div>
<div class="section" id="visualization-of-results">
<h3>3.2 Visualization of Results<a class="headerlink" href="#visualization-of-results" title="Permalink to this headline">¶</a></h3>
<p>We will visualize results of our classification using different plots to indicate the relationships among all of the variables. This includes plotting each predictor against each other and colouring based on presence to show the relationship and line graphs to determine what number of k neighbours we will use.</p>
</div>
</div>
<div class="section" id="expected-outcomes-and-significance">
<h2>4. Expected outcomes and significance<a class="headerlink" href="#expected-outcomes-and-significance" title="Permalink to this headline">¶</a></h2>
<div class="section" id="expected-findings">
<h3>4.1 Expected Findings<a class="headerlink" href="#expected-findings" title="Permalink to this headline">¶</a></h3>
<p>We should be able to predict the presence or absence of heart disease in new patients by training and testing our model with good accuracy.</p>
</div>
<div class="section" id="possible-impacts">
<h3>4.2 Possible Impacts<a class="headerlink" href="#possible-impacts" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Using our model, patients can be classified as high or low risk for heart disease using their cholesterol, blood pressure, and age.</p></li>
<li><p>Early diagnosis of heart disease based on this classification can help save more lives by allowing patients to make lifestyle adjustments or seek medical assistance sooner.</p></li>
</ul>
</div>
<div class="section" id="future-questions">
<h3>4.3 Future Questions<a class="headerlink" href="#future-questions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Are there other factors not included in this dataset which could be important in predicting presence of heart disease?</p></li>
<li><p>If more factors are considered, would it improve accuracy of the model?</p></li>
</ul>
</div>
</div>
<div class="section" id="classification">
<h2>5. Classification<a class="headerlink" href="#classification" title="Permalink to this headline">¶</a></h2>
<div class="section" id="creating-the-model-and-recipe">
<h3>5.1 Creating the model and recipe<a class="headerlink" href="#creating-the-model-and-recipe" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#Creating model and recipe</span>

<span class="n">knn_spec</span> <span class="o">&lt;-</span> <span class="nf">nearest_neighbor</span><span class="p">(</span><span class="n">weight_func</span> <span class="o">=</span> <span class="s">&quot;rectangular&quot;</span><span class="p">,</span> <span class="n">neighbors</span> <span class="o">=</span> <span class="nf">tune</span><span class="p">())</span> <span class="o">%&gt;%</span>
  <span class="nf">set_engine</span><span class="p">(</span><span class="s">&quot;kknn&quot;</span><span class="p">)</span> <span class="o">%&gt;%</span>
  <span class="nf">set_mode</span><span class="p">(</span><span class="s">&quot;classification&quot;</span><span class="p">)</span>


<span class="n">hd_recipe</span> <span class="o">&lt;-</span> <span class="nf">recipe</span><span class="p">(</span><span class="n">presence_yn</span> <span class="o">~</span> <span class="n">age</span> <span class="o">+</span> <span class="n">chol</span> <span class="o">+</span> <span class="n">trestbps</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">heart_disease_data_train</span><span class="p">)</span> <span class="o">%&gt;%</span>
                        <span class="nf">step_scale</span><span class="p">(</span><span class="nf">all_predictors</span><span class="p">())</span> <span class="o">%&gt;%</span>
                        <span class="nf">step_center</span><span class="p">(</span><span class="nf">all_predictors</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="performing-cross-validation-and-determining-which-k-to-use">
<h3>5.2 Performing cross-validation and determining which k to use<a class="headerlink" href="#performing-cross-validation-and-determining-which-k-to-use" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">set.seed</span><span class="p">(</span><span class="m">3456</span><span class="p">)</span>
<span class="n">hd_vfold</span> <span class="o">&lt;-</span> <span class="nf">vfold_cv</span><span class="p">(</span><span class="n">heart_disease_data_train</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="m">5</span><span class="p">,</span> <span class="n">strata</span> <span class="o">=</span> <span class="n">presence_yn</span><span class="p">)</span>

<span class="n">k_vals</span> <span class="o">&lt;-</span> <span class="nf">tibble</span><span class="p">(</span><span class="n">neighbors</span> <span class="o">=</span> <span class="nf">seq</span><span class="p">(</span><span class="n">from</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">to</span> <span class="o">=</span> <span class="m">10</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="m">1</span><span class="p">))</span>

<span class="n">knn_results</span> <span class="o">&lt;-</span> <span class="nf">workflow</span><span class="p">()</span> <span class="o">%&gt;%</span>
                 <span class="nf">add_recipe</span><span class="p">(</span><span class="n">hd_recipe</span><span class="p">)</span> <span class="o">%&gt;%</span>
                 <span class="nf">add_model</span><span class="p">(</span><span class="n">knn_spec</span><span class="p">)</span> <span class="o">%&gt;%</span>
                 <span class="nf">tune_grid</span><span class="p">(</span><span class="n">resamples</span> <span class="o">=</span> <span class="n">hd_vfold</span><span class="p">,</span> <span class="n">grid</span> <span class="o">=</span> <span class="n">k_vals</span><span class="p">)</span> <span class="o">%&gt;%</span>
                 <span class="nf">collect_metrics</span><span class="p">()</span>

<span class="n">accuracies</span> <span class="o">&lt;-</span> <span class="n">knn_results</span> <span class="o">%&gt;%</span>
                 <span class="nf">filter</span><span class="p">(</span><span class="n">.metric</span> <span class="o">==</span> <span class="s">&quot;accuracy&quot;</span><span class="p">)</span>
<span class="n">accuracies</span>

<span class="n">max_accuracy</span> <span class="o">&lt;-</span> <span class="n">accuracies</span> <span class="o">%&gt;%</span>
<span class="nf">filter</span><span class="p">(</span><span class="n">mean</span> <span class="o">==</span> <span class="nf">max</span><span class="p">(</span><span class="n">mean</span><span class="p">))</span>
<span class="n">max_accuracy</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A tibble: 10 × 7</caption>
<thead>
	<tr><th scope=col>neighbors</th><th scope=col>.metric</th><th scope=col>.estimator</th><th scope=col>mean</th><th scope=col>n</th><th scope=col>std_err</th><th scope=col>.config</th></tr>
	<tr><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th></tr>
</thead>
<tbody>
	<tr><td> 1</td><td>accuracy</td><td>binary</td><td>0.5909904</td><td>5</td><td>0.01130868</td><td>Preprocessor1_Model01</td></tr>
	<tr><td> 2</td><td>accuracy</td><td>binary</td><td>0.5894279</td><td>5</td><td>0.01259719</td><td>Preprocessor1_Model02</td></tr>
	<tr><td> 3</td><td>accuracy</td><td>binary</td><td>0.6222648</td><td>5</td><td>0.02182897</td><td>Preprocessor1_Model03</td></tr>
	<tr><td> 4</td><td>accuracy</td><td>binary</td><td>0.6222527</td><td>5</td><td>0.02089793</td><td>Preprocessor1_Model04</td></tr>
	<tr><td> 5</td><td>accuracy</td><td>binary</td><td>0.6345846</td><td>5</td><td>0.02397491</td><td>Preprocessor1_Model05</td></tr>
	<tr><td> 6</td><td>accuracy</td><td>binary</td><td>0.6345846</td><td>5</td><td>0.02397491</td><td>Preprocessor1_Model06</td></tr>
	<tr><td> 7</td><td>accuracy</td><td>binary</td><td>0.6408102</td><td>5</td><td>0.02021573</td><td>Preprocessor1_Model07</td></tr>
	<tr><td> 8</td><td>accuracy</td><td>binary</td><td>0.6408102</td><td>5</td><td>0.01848072</td><td>Preprocessor1_Model08</td></tr>
	<tr><td> 9</td><td>accuracy</td><td>binary</td><td>0.6610020</td><td>5</td><td>0.01625254</td><td>Preprocessor1_Model09</td></tr>
	<tr><td>10</td><td>accuracy</td><td>binary</td><td>0.6610020</td><td>5</td><td>0.01625254</td><td>Preprocessor1_Model10</td></tr>
</tbody>
</table>
</div><div class="output text_html"><table class="dataframe">
<caption>A tibble: 2 × 7</caption>
<thead>
	<tr><th scope=col>neighbors</th><th scope=col>.metric</th><th scope=col>.estimator</th><th scope=col>mean</th><th scope=col>n</th><th scope=col>std_err</th><th scope=col>.config</th></tr>
	<tr><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th></tr>
</thead>
<tbody>
	<tr><td> 9</td><td>accuracy</td><td>binary</td><td>0.661002</td><td>5</td><td>0.01625254</td><td>Preprocessor1_Model09</td></tr>
	<tr><td>10</td><td>accuracy</td><td>binary</td><td>0.661002</td><td>5</td><td>0.01625254</td><td>Preprocessor1_Model10</td></tr>
</tbody>
</table>
</div></div>
</div>
<p>Let’s visualize the accuracies using <code class="docutils literal notranslate"><span class="pre">ggplot</span></code> below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">cross_val_plot</span> <span class="o">&lt;-</span> <span class="nf">ggplot</span><span class="p">(</span><span class="n">accuracies</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">neighbors</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">mean</span><span class="p">))</span> <span class="o">+</span>
                  <span class="nf">geom_point</span><span class="p">()</span> <span class="o">+</span>
                  <span class="nf">geom_line</span><span class="p">()</span> <span class="o">+</span>
                  <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&#39;Neighbors&#39;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&#39;Accuracy Estimate&#39;</span><span class="p">)</span>
<span class="n">cross_val_plot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/group_project_proposal_20_0.png" src="_images/group_project_proposal_20_0.png" />
</div>
</div>
<p>The k-values of 9 and 10 have the highest accuracy. 9 is lower than 10 but changing the k to a nearby value appears to decrease the accuracy. The cost of training the model is not prohibitively expensive either way. Therefore, we select k = 10 for our classifier to be safe.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">knn_spec2</span> <span class="o">&lt;-</span> <span class="nf">nearest_neighbor</span><span class="p">(</span><span class="n">weight_func</span> <span class="o">=</span> <span class="s">&quot;rectangular&quot;</span><span class="p">,</span> <span class="n">neighbors</span> <span class="o">=</span> <span class="m">10</span><span class="p">)</span> <span class="o">%&gt;%</span>
  <span class="nf">set_engine</span><span class="p">(</span><span class="s">&quot;kknn&quot;</span><span class="p">)</span> <span class="o">%&gt;%</span>
  <span class="nf">set_mode</span><span class="p">(</span><span class="s">&quot;classification&quot;</span><span class="p">)</span>

<span class="n">hd_fit</span> <span class="o">&lt;-</span> <span class="nf">workflow </span><span class="p">()</span> <span class="o">%&gt;%</span>
                  <span class="nf">add_recipe</span><span class="p">(</span><span class="n">hd_recipe</span><span class="p">)</span> <span class="o">%&gt;%</span>
                  <span class="nf">add_model</span><span class="p">(</span><span class="n">knn_spec2</span><span class="p">)</span> <span class="o">%&gt;%</span> 
                  <span class="nf">fit</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">heart_disease_data_train</span><span class="p">)</span>
<span class="n">hd_fit</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>== Workflow [trained] ==================================================================================================
Preprocessor: Recipe
Model: nearest_neighbor()

-- Preprocessor --------------------------------------------------------------------------------------------------------
2 Recipe Steps

* step_scale()
* step_center()

-- Model ---------------------------------------------------------------------------------------------------------------

Call:
kknn::train.kknn(formula = ..y ~ ., data = data, ks = min_rows(10,     data, 5), kernel = ~&quot;rectangular&quot;)

Type of response variable: nominal
Minimal misclassification: 0.3297045
Best kernel: rectangular
Best k: 10
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">set.seed</span><span class="p">(</span><span class="m">3456</span><span class="p">)</span>
<span class="n">hd_test_predictions</span> <span class="o">&lt;-</span> <span class="nf">predict</span><span class="p">(</span><span class="n">hd_fit</span><span class="p">,</span> <span class="n">heart_disease_data_test</span><span class="p">)</span> <span class="o">%&gt;%</span>
  <span class="nf">bind_cols</span><span class="p">(</span><span class="n">heart_disease_data_test</span><span class="p">)</span>

<span class="n">hd_metrics</span> <span class="o">&lt;-</span> <span class="n">hd_test_predictions</span> <span class="o">%&gt;%</span> 
                <span class="nf">metrics</span><span class="p">(</span><span class="n">truth</span> <span class="o">=</span> <span class="n">presence_yn</span><span class="p">,</span> <span class="n">estimate</span> <span class="o">=</span> <span class="n">.pred_class</span><span class="p">)</span> <span class="o">%&gt;%</span>
                <span class="nf">filter</span><span class="p">(</span><span class="n">.metric</span> <span class="o">==</span> <span class="s">&quot;accuracy&quot;</span><span class="p">)</span>
<span class="n">hd_conf_mat</span> <span class="o">&lt;-</span> <span class="n">hd_test_predictions</span> <span class="o">%&gt;%</span>
                        <span class="nf">conf_mat</span><span class="p">(</span><span class="n">truth</span> <span class="o">=</span> <span class="n">presence_yn</span><span class="p">,</span> <span class="n">estimate</span> <span class="o">=</span> <span class="n">.pred_class</span><span class="p">)</span> 
<span class="n">hd_metrics</span>
<span class="n">hd_conf_mat</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A tibble: 1 × 3</caption>
<thead>
	<tr><th scope=col>.metric</th><th scope=col>.estimator</th><th scope=col>.estimate</th></tr>
	<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td>accuracy</td><td>binary</td><td>0.6465116</td></tr>
</tbody>
</table>
</div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>          Truth
Prediction no yes
       no  58  34
       yes 42  81
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="testing-out-other-predictor-combinations">
<h2>Testing out other predictor combinations<a class="headerlink" href="#testing-out-other-predictor-combinations" title="Permalink to this headline">¶</a></h2>
<p>Our accuracy on the testing data is only around 0.65, so let’s see if we can improve the accuracy by using less predictors as some of them might be irrelevant.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#Cross-validation of age + chol only</span>

<span class="nf">set.seed</span><span class="p">(</span><span class="m">3456</span><span class="p">)</span>

<span class="n">hd_recipe2</span> <span class="o">&lt;-</span> <span class="nf">recipe</span><span class="p">(</span><span class="n">presence_yn</span> <span class="o">~</span> <span class="n">age</span> <span class="o">+</span> <span class="n">chol</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">heart_disease_data_train</span><span class="p">)</span> <span class="o">%&gt;%</span>
                        <span class="nf">step_scale</span><span class="p">(</span><span class="nf">all_predictors</span><span class="p">())</span> <span class="o">%&gt;%</span>
                        <span class="nf">step_center</span><span class="p">(</span><span class="nf">all_predictors</span><span class="p">())</span>

<span class="n">knn_results2</span> <span class="o">&lt;-</span> <span class="nf">workflow</span><span class="p">()</span> <span class="o">%&gt;%</span>
                 <span class="nf">add_recipe</span><span class="p">(</span><span class="n">hd_recipe2</span><span class="p">)</span> <span class="o">%&gt;%</span>
                 <span class="nf">add_model</span><span class="p">(</span><span class="n">knn_spec</span><span class="p">)</span> <span class="o">%&gt;%</span>
                 <span class="nf">tune_grid</span><span class="p">(</span><span class="n">resamples</span> <span class="o">=</span> <span class="n">hd_vfold</span><span class="p">,</span> <span class="n">grid</span> <span class="o">=</span> <span class="n">k_vals</span><span class="p">)</span> <span class="o">%&gt;%</span>
                 <span class="nf">collect_metrics</span><span class="p">()</span>

<span class="n">accuracies2</span> <span class="o">&lt;-</span> <span class="n">knn_results2</span> <span class="o">%&gt;%</span>
                 <span class="nf">filter</span><span class="p">(</span><span class="n">.metric</span> <span class="o">==</span> <span class="s">&quot;accuracy&quot;</span><span class="p">)</span>
<span class="n">max_accuracy2</span> <span class="o">&lt;-</span> <span class="n">accuracies2</span> <span class="o">%&gt;%</span>
<span class="nf">filter</span><span class="p">(</span><span class="n">mean</span> <span class="o">==</span> <span class="nf">max</span><span class="p">(</span><span class="n">mean</span><span class="p">))</span>
<span class="n">max_accuracy2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A tibble: 1 × 7</caption>
<thead>
	<tr><th scope=col>neighbors</th><th scope=col>.metric</th><th scope=col>.estimator</th><th scope=col>mean</th><th scope=col>n</th><th scope=col>std_err</th><th scope=col>.config</th></tr>
	<tr><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th></tr>
</thead>
<tbody>
	<tr><td>10</td><td>accuracy</td><td>binary</td><td>0.6455454</td><td>5</td><td>0.01678504</td><td>Preprocessor1_Model10</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#Cross-validation of age + trestbps only</span>

<span class="nf">set.seed</span><span class="p">(</span><span class="m">3456</span><span class="p">)</span>

<span class="n">hd_recipe3</span> <span class="o">&lt;-</span> <span class="nf">recipe</span><span class="p">(</span><span class="n">presence_yn</span> <span class="o">~</span> <span class="n">age</span> <span class="o">+</span> <span class="n">trestbps</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">heart_disease_data_train</span><span class="p">)</span> <span class="o">%&gt;%</span>
                        <span class="nf">step_scale</span><span class="p">(</span><span class="nf">all_predictors</span><span class="p">())</span> <span class="o">%&gt;%</span>
                        <span class="nf">step_center</span><span class="p">(</span><span class="nf">all_predictors</span><span class="p">())</span>

<span class="n">knn_results3</span> <span class="o">&lt;-</span> <span class="nf">workflow</span><span class="p">()</span> <span class="o">%&gt;%</span>
                 <span class="nf">add_recipe</span><span class="p">(</span><span class="n">hd_recipe3</span><span class="p">)</span> <span class="o">%&gt;%</span>
                 <span class="nf">add_model</span><span class="p">(</span><span class="n">knn_spec</span><span class="p">)</span> <span class="o">%&gt;%</span>
                 <span class="nf">tune_grid</span><span class="p">(</span><span class="n">resamples</span> <span class="o">=</span> <span class="n">hd_vfold</span><span class="p">,</span> <span class="n">grid</span> <span class="o">=</span> <span class="n">k_vals</span><span class="p">)</span> <span class="o">%&gt;%</span>
                 <span class="nf">collect_metrics</span><span class="p">()</span>

<span class="n">accuracies3</span> <span class="o">&lt;-</span> <span class="n">knn_results3</span> <span class="o">%&gt;%</span>
                 <span class="nf">filter</span><span class="p">(</span><span class="n">.metric</span> <span class="o">==</span> <span class="s">&quot;accuracy&quot;</span><span class="p">)</span>
<span class="n">max_accuracy3</span> <span class="o">&lt;-</span> <span class="n">accuracies3</span> <span class="o">%&gt;%</span>
<span class="nf">filter</span><span class="p">(</span><span class="n">mean</span> <span class="o">==</span> <span class="nf">max</span><span class="p">(</span><span class="n">mean</span><span class="p">))</span>
<span class="n">max_accuracy3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A tibble: 1 × 7</caption>
<thead>
	<tr><th scope=col>neighbors</th><th scope=col>.metric</th><th scope=col>.estimator</th><th scope=col>mean</th><th scope=col>n</th><th scope=col>std_err</th><th scope=col>.config</th></tr>
	<tr><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th></tr>
</thead>
<tbody>
	<tr><td>10</td><td>accuracy</td><td>binary</td><td>0.5971083</td><td>5</td><td>0.01329</td><td>Preprocessor1_Model10</td></tr>
</tbody>
</table>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#Cross-validation of chol + trestbps only</span>

<span class="nf">set.seed</span><span class="p">(</span><span class="m">3456</span><span class="p">)</span>

<span class="n">hd_recipe4</span> <span class="o">&lt;-</span> <span class="nf">recipe</span><span class="p">(</span><span class="n">presence_yn</span> <span class="o">~</span> <span class="n">chol</span> <span class="o">+</span> <span class="n">trestbps</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">heart_disease_data_train</span><span class="p">)</span> <span class="o">%&gt;%</span>
                        <span class="nf">step_scale</span><span class="p">(</span><span class="nf">all_predictors</span><span class="p">())</span> <span class="o">%&gt;%</span>
                        <span class="nf">step_center</span><span class="p">(</span><span class="nf">all_predictors</span><span class="p">())</span>

<span class="n">knn_results4</span> <span class="o">&lt;-</span> <span class="nf">workflow</span><span class="p">()</span> <span class="o">%&gt;%</span>
                 <span class="nf">add_recipe</span><span class="p">(</span><span class="n">hd_recipe4</span><span class="p">)</span> <span class="o">%&gt;%</span>
                 <span class="nf">add_model</span><span class="p">(</span><span class="n">knn_spec</span><span class="p">)</span> <span class="o">%&gt;%</span>
                 <span class="nf">tune_grid</span><span class="p">(</span><span class="n">resamples</span> <span class="o">=</span> <span class="n">hd_vfold</span><span class="p">,</span> <span class="n">grid</span> <span class="o">=</span> <span class="n">k_vals</span><span class="p">)</span> <span class="o">%&gt;%</span>
                 <span class="nf">collect_metrics</span><span class="p">()</span>

<span class="n">accuracies4</span> <span class="o">&lt;-</span> <span class="n">knn_results4</span> <span class="o">%&gt;%</span>
                 <span class="nf">filter</span><span class="p">(</span><span class="n">.metric</span> <span class="o">==</span> <span class="s">&quot;accuracy&quot;</span><span class="p">)</span>
<span class="n">max_accuracy4</span> <span class="o">&lt;-</span> <span class="n">accuracies4</span> <span class="o">%&gt;%</span>
<span class="nf">filter</span><span class="p">(</span><span class="n">mean</span> <span class="o">==</span> <span class="nf">max</span><span class="p">(</span><span class="n">mean</span><span class="p">))</span>
<span class="n">max_accuracy4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A tibble: 1 × 7</caption>
<thead>
	<tr><th scope=col>neighbors</th><th scope=col>.metric</th><th scope=col>.estimator</th><th scope=col>mean</th><th scope=col>n</th><th scope=col>std_err</th><th scope=col>.config</th></tr>
	<tr><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th></tr>
</thead>
<tbody>
	<tr><td>5</td><td>accuracy</td><td>binary</td><td>0.6034183</td><td>5</td><td>0.002270856</td><td>Preprocessor1_Model05</td></tr>
</tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="predicting-other-predictor-combinations">
<h2>Predicting other predictor combinations<a class="headerlink" href="#predicting-other-predictor-combinations" title="Permalink to this headline">¶</a></h2>
<p>As seen in the tests above, using age and cholesterol as predictors with 10 k-neighbours yielded a higher accuracy than using all three variables. Let’s test the accuracy of predictions on the testing data with only age and cholesterol.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#Prediction for age + chol with 10 neighbours</span>
<span class="nf">set.seed</span><span class="p">(</span><span class="m">3456</span><span class="p">)</span>
<span class="n">knn_spec_10</span> <span class="o">&lt;-</span> <span class="nf">nearest_neighbor</span><span class="p">(</span><span class="n">weight_func</span> <span class="o">=</span> <span class="s">&quot;rectangular&quot;</span><span class="p">,</span> <span class="n">neighbors</span> <span class="o">=</span> <span class="m">10</span><span class="p">)</span> <span class="o">%&gt;%</span>
  <span class="nf">set_engine</span><span class="p">(</span><span class="s">&quot;kknn&quot;</span><span class="p">)</span> <span class="o">%&gt;%</span>
  <span class="nf">set_mode</span><span class="p">(</span><span class="s">&quot;classification&quot;</span><span class="p">)</span>

<span class="n">hd_fit2</span> <span class="o">&lt;-</span> <span class="nf">workflow </span><span class="p">()</span> <span class="o">%&gt;%</span>
                  <span class="nf">add_recipe</span><span class="p">(</span><span class="n">hd_recipe2</span><span class="p">)</span> <span class="o">%&gt;%</span>
                  <span class="nf">add_model</span><span class="p">(</span><span class="n">knn_spec_10</span><span class="p">)</span> <span class="o">%&gt;%</span> 
                  <span class="nf">fit</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">heart_disease_data_train</span><span class="p">)</span>

<span class="n">hd_test_predictions2</span> <span class="o">&lt;-</span> <span class="nf">predict</span><span class="p">(</span><span class="n">hd_fit2</span><span class="p">,</span> <span class="n">heart_disease_data_test</span><span class="p">)</span> <span class="o">%&gt;%</span>
  <span class="nf">bind_cols</span><span class="p">(</span><span class="n">heart_disease_data_test</span><span class="p">)</span>

<span class="n">hd_metrics2</span> <span class="o">&lt;-</span> <span class="n">hd_test_predictions2</span> <span class="o">%&gt;%</span> 
                <span class="nf">metrics</span><span class="p">(</span><span class="n">truth</span> <span class="o">=</span> <span class="n">presence_yn</span><span class="p">,</span> <span class="n">estimate</span> <span class="o">=</span> <span class="n">.pred_class</span><span class="p">)</span> <span class="o">%&gt;%</span>
                <span class="nf">filter</span><span class="p">(</span><span class="n">.metric</span> <span class="o">==</span> <span class="s">&quot;accuracy&quot;</span><span class="p">)</span>
<span class="n">hd_conf_mat2</span> <span class="o">&lt;-</span> <span class="n">hd_test_predictions2</span> <span class="o">%&gt;%</span>
                        <span class="nf">conf_mat</span><span class="p">(</span><span class="n">truth</span> <span class="o">=</span> <span class="n">presence_yn</span><span class="p">,</span> <span class="n">estimate</span> <span class="o">=</span> <span class="n">.pred_class</span><span class="p">)</span> 
<span class="n">hd_metrics2</span>
<span class="n">hd_conf_mat2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A tibble: 1 × 3</caption>
<thead>
	<tr><th scope=col>.metric</th><th scope=col>.estimator</th><th scope=col>.estimate</th></tr>
	<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td>accuracy</td><td>binary</td><td>0.6511628</td></tr>
</tbody>
</table>
</div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>          Truth
Prediction no yes
       no  60  35
       yes 40  80
</pre></div>
</div>
</div>
</div>
<p>As seen in the above metrics and matrix, the prediction accuracy on our testing set did not increase after cross-validation. We’ll also test <code class="docutils literal notranslate"><span class="pre">age</span></code> and <code class="docutils literal notranslate"><span class="pre">trestbps</span></code> just in case, as the accuracy was close as well.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#Prediction for age + chol with 9 neighbours</span>
<span class="nf">set.seed</span><span class="p">(</span><span class="m">3456</span><span class="p">)</span>
<span class="n">knn_spec_9</span> <span class="o">&lt;-</span> <span class="nf">nearest_neighbor</span><span class="p">(</span><span class="n">weight_func</span> <span class="o">=</span> <span class="s">&quot;rectangular&quot;</span><span class="p">,</span> <span class="n">neighbors</span> <span class="o">=</span> <span class="m">9</span><span class="p">)</span> <span class="o">%&gt;%</span>
  <span class="nf">set_engine</span><span class="p">(</span><span class="s">&quot;kknn&quot;</span><span class="p">)</span> <span class="o">%&gt;%</span>
  <span class="nf">set_mode</span><span class="p">(</span><span class="s">&quot;classification&quot;</span><span class="p">)</span>

<span class="n">hd_fit3</span> <span class="o">&lt;-</span> <span class="nf">workflow </span><span class="p">()</span> <span class="o">%&gt;%</span>
                  <span class="nf">add_recipe</span><span class="p">(</span><span class="n">hd_recipe3</span><span class="p">)</span> <span class="o">%&gt;%</span>
                  <span class="nf">add_model</span><span class="p">(</span><span class="n">knn_spec_9</span><span class="p">)</span> <span class="o">%&gt;%</span> 
                  <span class="nf">fit</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">heart_disease_data_train</span><span class="p">)</span>

<span class="n">hd_test_predictions3</span> <span class="o">&lt;-</span> <span class="nf">predict</span><span class="p">(</span><span class="n">hd_fit3</span><span class="p">,</span> <span class="n">heart_disease_data_test</span><span class="p">)</span> <span class="o">%&gt;%</span>
  <span class="nf">bind_cols</span><span class="p">(</span><span class="n">heart_disease_data_test</span><span class="p">)</span>

<span class="n">hd_metrics3</span> <span class="o">&lt;-</span> <span class="n">hd_test_predictions3</span> <span class="o">%&gt;%</span> 
                <span class="nf">metrics</span><span class="p">(</span><span class="n">truth</span> <span class="o">=</span> <span class="n">presence_yn</span><span class="p">,</span> <span class="n">estimate</span> <span class="o">=</span> <span class="n">.pred_class</span><span class="p">)</span> <span class="o">%&gt;%</span>
                <span class="nf">filter</span><span class="p">(</span><span class="n">.metric</span> <span class="o">==</span> <span class="s">&quot;accuracy&quot;</span><span class="p">)</span>
<span class="n">hd_conf_mat3</span> <span class="o">&lt;-</span> <span class="n">hd_test_predictions3</span> <span class="o">%&gt;%</span>
                        <span class="nf">conf_mat</span><span class="p">(</span><span class="n">truth</span> <span class="o">=</span> <span class="n">presence_yn</span><span class="p">,</span> <span class="n">estimate</span> <span class="o">=</span> <span class="n">.pred_class</span><span class="p">)</span> 
<span class="n">hd_metrics3</span>
<span class="n">hd_conf_mat3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A tibble: 1 × 3</caption>
<thead>
	<tr><th scope=col>.metric</th><th scope=col>.estimator</th><th scope=col>.estimate</th></tr>
	<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td>accuracy</td><td>binary</td><td>0.6093023</td></tr>
</tbody>
</table>
</div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>          Truth
Prediction no yes
       no  58  42
       yes 42  73
</pre></div>
</div>
</div>
</div>
<p>The accuracy still didn’t improve from when we used all three variables, so we’ll proceed by comparing all three as we originally intended.</p>
<div class="section" id="plotting-predictions">
<h3>Plotting predictions<a class="headerlink" href="#plotting-predictions" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">hd_test_predictions_scaled</span> <span class="o">&lt;-</span> <span class="n">hd_test_predictions</span> <span class="o">%&gt;%</span>
  <span class="nf">mutate</span><span class="p">(</span><span class="n">age</span> <span class="o">=</span> <span class="nf">scale</span><span class="p">(</span><span class="n">age</span><span class="p">),</span> <span class="n">chol</span> <span class="o">=</span> <span class="nf">scale</span><span class="p">(</span><span class="n">chol</span><span class="p">),</span> <span class="n">trestbps</span> <span class="o">=</span> <span class="nf">scale</span><span class="p">(</span><span class="n">trestbps</span><span class="p">))</span>

<span class="n">prediction_plot1</span> <span class="o">&lt;-</span> <span class="n">hd_test_predictions_scaled</span> <span class="o">%&gt;%</span>
  <span class="nf">ggplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">age</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">chol</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">.pred_class</span><span class="p">))</span> <span class="o">+</span>
  <span class="nf">geom_point</span><span class="p">(</span><span class="n">alpha</span> <span class="o">=</span> <span class="m">0.8</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Age (scaled)&quot;</span><span class="p">,</span> 
       <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;Cholesterol (scaled)&quot;</span><span class="p">,</span>
       <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;Presence&quot;</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">scale_color_manual</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;Yes&quot;</span><span class="p">,</span> <span class="s">&quot;No&quot;</span><span class="p">),</span> 
                     <span class="n">values</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;orange2&quot;</span><span class="p">,</span> <span class="s">&quot;steelblue2&quot;</span><span class="p">))</span>  <span class="o">+</span>
                     <span class="nf">theme</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">20</span><span class="p">))</span> 
<span class="n">prediction_plot1</span>

<span class="n">prediction_plot2</span> <span class="o">&lt;-</span> <span class="n">hd_test_predictions_scaled</span> <span class="o">%&gt;%</span>
  <span class="nf">ggplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">age</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">trestbps</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">.pred_class</span><span class="p">))</span> <span class="o">+</span>
  <span class="nf">geom_point</span><span class="p">(</span><span class="n">alpha</span> <span class="o">=</span> <span class="m">0.8</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Age (scaled)&quot;</span><span class="p">,</span> 
       <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;Resting blood pressure (scaled)&quot;</span><span class="p">,</span>
       <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;Presence&quot;</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">scale_color_manual</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;Yes&quot;</span><span class="p">,</span> <span class="s">&quot;No&quot;</span><span class="p">),</span> 
                     <span class="n">values</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;orange2&quot;</span><span class="p">,</span> <span class="s">&quot;steelblue2&quot;</span><span class="p">))</span>  <span class="o">+</span>
                     <span class="nf">theme</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">20</span><span class="p">))</span> 
<span class="n">prediction_plot2</span>

<span class="n">prediction_plot3</span> <span class="o">&lt;-</span> <span class="n">hd_test_predictions_scaled</span> <span class="o">%&gt;%</span>
  <span class="nf">ggplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">chol</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">trestbps</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">.pred_class</span><span class="p">))</span> <span class="o">+</span>
  <span class="nf">geom_point</span><span class="p">(</span><span class="n">alpha</span> <span class="o">=</span> <span class="m">0.8</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Cholesterol (scaled)&quot;</span><span class="p">,</span> 
       <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;Resting blood pressure (scaled)&quot;</span><span class="p">,</span>
       <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;Presence&quot;</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">scale_color_manual</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;Yes&quot;</span><span class="p">,</span> <span class="s">&quot;No&quot;</span><span class="p">),</span> 
                     <span class="n">values</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;orange2&quot;</span><span class="p">,</span> <span class="s">&quot;steelblue2&quot;</span><span class="p">))</span>  <span class="o">+</span>
                     <span class="nf">theme</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">20</span><span class="p">))</span> 
<span class="n">prediction_plot3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/group_project_proposal_34_0.png" src="_images/group_project_proposal_34_0.png" />
<img alt="_images/group_project_proposal_34_1.png" src="_images/group_project_proposal_34_1.png" />
<img alt="_images/group_project_proposal_34_2.png" src="_images/group_project_proposal_34_2.png" />
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "r"
        },
        kernelOptions: {
            kernelName: "ir",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'ir'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="README.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">DSCI-100 Group Project</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="group_project_report.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Heart Disease Classification Report</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By The Jupyter Book community<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>